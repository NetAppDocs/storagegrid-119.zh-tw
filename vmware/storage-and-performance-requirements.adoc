---
permalink: vmware/storage-and-performance-requirements.html 
sidebar: sidebar 
keywords: storage requirements, performance requirements, netapp ontap, fabricpool 
summary: 您必須了解虛擬機器託管的StorageGRID節點的儲存和效能要求，以便提供足夠的空間來支援初始配置和未來的儲存擴充。 
---
= 儲存和效能要求
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您必須了解虛擬機器託管的StorageGRID節點的儲存和效能要求，以便提供足夠的空間來支援初始配置和未來的儲存擴充。



== 性能要求

作業系統捲和第一個儲存卷的效能會顯著影響系統的整體效能。確保這些在延遲、每秒輸入/輸出操作（IOPS）和吞吐量方面提供足夠的磁碟效能。

所有StorageGRID節點都要求作業系統磁碟機和所有儲存磁碟區都啟用回寫快取。快取必須位於受保護或持久的媒體上。



== 使用NetApp ONTAP儲存的虛擬機器的要求

如果您將StorageGRID節點部署為虛擬機，且儲存從NetApp ONTAP系統指派，則您已確認該磁碟區未啟用FabricPool分層原則。例如，如果StorageGRID節點在 VMware 主機上以虛擬機器執行，請確保支援該節點資料儲存的磁碟區未啟用FabricPool分層策略。停用與StorageGRID節點一起使用的磁碟區的FabricPool分層可簡化故障排除和儲存作業。


NOTE: 切勿使用FabricPool將與StorageGRID相關的任何資料分層回StorageGRID本身。將StorageGRID資料分層回StorageGRID會增加故障排除和操作的複雜度。



== 所需虛擬機器數量

每個StorageGRID站點至少需要三個儲存節點。



== 按節點類型劃分的儲存要求

在生產環境中， StorageGRID節點的虛擬機器必須滿足不同的要求，這取決於節點的類型。


NOTE: 磁碟快照不能用於還原網格節點。相反，請參閱link:../maintain/warnings-and-considerations-for-grid-node-recovery.html["網格節點恢復"]針對每種類型的節點的程式。

[cols="1a,2a"]
|===
| 節點類型 | 儲存 


 a| 
管理節點
 a| 
100 GB LUN 用於作業系統

管理節點表的 200 GB LUN

200 GB LUN 用於管理節點稽核日誌



 a| 
儲存節點
 a| 
100 GB LUN 用於作業系統

此主機上每個儲存節點有 3 個 LUN

*注意*：一個儲存節點可以有 1 到 16 個儲存 LUN；建議至少有 3 個儲存 LUN。

每個 LUN 的最小大小：4 TB

測試的最大 LUN 大小：39 TB。



 a| 
儲存節點（僅元資料）
 a| 
100 GB LUN 用於作業系統

1 LUN

每個 LUN 的最小大小：4 TB

測試的最大 LUN 大小：39 TB。

*注意*：僅元資料儲存節點只需要一個 rangedb。



 a| 
閘道
 a| 
100 GB LUN 用於作業系統

|===

NOTE: 根據設定的稽核等級、使用者輸入的大小（例如 S3 物件金鑰名稱）以及需要保留的稽核日誌資料量，您可能需要增加每個管理節點上稽核日誌 LUN 的大小。通常，網格每個 S3 操作會產生大約 1 KB 的審計數據，這意味著 200 GB 的 LUN 可以在兩到三天內支援每天 7000 萬次操作或每秒 800 次操作。



== 儲存節點的儲存要求

基於軟體的儲存節點可以有 1 到 16 個儲存磁碟區；建議使用 3 個或更多儲存磁碟區。每個儲存磁碟區應為 4 TB 或更大。


NOTE: 設備儲存節點還可以擁有最多 48 個儲存磁碟區。

如圖所示， StorageGRID在每個儲存節點的儲存磁碟區 0 上為物件元資料保留空間。儲存磁碟區 0 上的任何剩餘空間以及儲存節點中的任何其他儲存磁碟區均專門用於物件資料。

image::../media/metadata_space_storage_node.png[元資料空間儲存節點]

為了提供冗餘並保護物件元資料免於遺失， StorageGRID在每個站點儲存系統中所有物件的元資料的三個副本。物件元資料的三個副本均勻分佈在每個站點的所有儲存節點上。

當安裝僅具有元資料儲存節點的網格時，該網格還必須包含用於物件儲存的最小數量的節點。看link:../primer/what-storage-node-is.html#types-of-storage-nodes["儲存節點的類型"]有關僅元資料儲存節點的詳細資訊。

* 對於單一站點網格，至少配置兩個儲存節點用於物件和元資料。
* 對於多站點網格，每個站點至少配置一個儲存節點來儲存物件和元資料。


當您為新儲存節點的磁碟區 0 指派空間時，必須確保有足夠的空間容納該節點的所有物件元資料部分。

* 您必須至少為磁碟區 0 分配至少 4 TB。
+

NOTE: 如果您僅為儲存節點使用儲存卷，並且為該磁碟區指派 4 TB 或更少的容量，則儲存節點可能會在啟動時進入儲存唯讀狀態並僅儲存物件元資料。

+

NOTE: 如果您為磁碟區 0（僅非生產用途）分配少於 500 GB 的空間，則儲存磁碟區容量的 10% 將保留用於元資料。

* 基於軟體的純元資料節點資源必須與現有的儲存節點資源相符。例如：
+
** 如果現有StorageGRID站點使用 SG6000 或 SG6100 設備，則基於軟體的僅元資料節點必須符合以下最低要求：
+
*** 128 GB 內存
*** 8核心CPU
*** 8 TB SSD 或用於 Cassandra 資料庫的等效儲存空間（rangedb/0）


** 如果現有的StorageGRID站點使用具有 24 GB RAM、8 核心 CPU 和 3 TB 或 4TB 元資料儲存的虛擬儲存節點，則基於軟體的僅元資料節點應使用類似的資源（24 GB RAM、8 核心 CPU 和 4TB 元資料儲存（rangedb/0）。
+
新增新的StorageGRID站點時，新站點的總元資料容量應至少與現有StorageGRID站點相匹配，且新站點資源應與現有StorageGRID站點的儲存節點相符。



* 如果您正在安裝新系統（StorageGRID 11.6 或更高版本）並且每個儲存節點都有 128 GB 或更多的 RAM，請為磁碟區 0 分配 8 TB 或更多。對磁碟區 0 使用較大的值可以增加每個儲存節點上元資料允許的空間。
* 為網站配置不同的儲存節點時，如果可能，請對磁碟區 0 使用相同的設定。如果網站包含不同大小的儲存節點，則具有最小磁碟區 0 的儲存節點將決定該網站的元資料容量。


欲了解詳情，請訪問link:../admin/managing-object-metadata-storage.html["管理對像元資料存儲"]。
