---
permalink: expand/adding-metadata-capacity.html 
sidebar: sidebar 
keywords: metadata capacity, add, adding, expand, expansion, guidelines, Storage Nodes, metadata storage 
summary: 為了確保有足夠的空間用於物件元數據，您可能需要執行擴展程序以在每個站點添加新的儲存節點。 
---
= 新增元資料容量
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
為了確保有足夠的空間用於物件元數據，您可能需要執行擴展程序以在每個站點添加新的儲存節點。

StorageGRID在每個儲存節點的磁碟區 0 上為物件元資料保留空間。每個站點維護所有物件元資料的三個副本，均勻分佈在所有儲存節點上。

您可以使用網格管理器來監控儲存節點的元資料容量並估計元資料容量的消耗速度。此外，當使用的元資料空間達到某些閾值時，儲存節點會觸發「元資料儲存不足」警報。

請注意，根據您如何使用網格，網格的物件元資料容量可能比其物件儲存容量消耗得更快。例如，如果您通常攝取大量小物件或為物件新增大量使用者元資料或標籤，則可能需要新增儲存節點來增加元資料容量，即使剩餘足夠的物件儲存容量。

有關詳細信息，請參閱以下內容：

* link:../admin/managing-object-metadata-storage.html["管理對像元資料存儲"]
* link:../monitor/monitoring-storage-capacity.html#monitor-object-metadata-capacity-for-each-storage-node["監控每個儲存節點的物件元資料容量"]




== 增加元資料容量的指南

在新增儲存節點以增加元資料容量之前，請查看以下準則和限制：

* 假設有足夠的物件儲存容量，那麼為物件元資料提供更多可用空間將增加您可以在StorageGRID系統中儲存的物件數量。
* 您可以透過為每個網站新增一個或多個儲存節點來增加網格的元資料容量。
* 任何給定儲存節點上為物件元資料保留的實際空間取決於元資料保留空間儲存選項（系統範圍設定）、分配給節點的 RAM 量以及節點磁碟區 0 的大小。
* 您無法透過向現有儲存節點新增儲存磁碟區來增加元資料容量，因為元資料僅儲存在磁碟區 0 上。
* 您不能透過新增網站來增加元資料容量。
* StorageGRID在每個站點保留所有物件元資料的三個副本。因此，系統的元資料容量受到最小站點的元資料容量的限制。
* 新增元資料容量時，應為每個網站新增相同數量的儲存節點。


僅元資料儲存節點具有特定的硬體需求：

* 使用StorageGRID設備時，只能在具有 12 個 1.9 TB 或 12 個 3.8 TB 硬碟的 SGF6112 裝置上配置僅元資料節點。
* 使用基於軟體的節點時，僅元資料節點資源必須與現有的儲存節點資源相符。例如：
+
** 如果現有StorageGRID站點使用 SG6000 或 SG6100 設備，則基於軟體的僅元資料節點必須符合以下最低要求：
+
*** 128 GB 內存
*** 8核心CPU
*** 8 TB SSD 或用於 Cassandra 資料庫的等效儲存空間（rangedb/0）


** 如果現有的StorageGRID站點使用具有 24 GB RAM、8 核心 CPU 和 3 TB 或 4TB 元資料儲存的虛擬儲存節點，則基於軟體的僅元資料節點應使用類似的資源（24 GB RAM、8 核心 CPU 和 4TB 元資料儲存（rangedb/0）。


* 新增新的StorageGRID站點時，新站點的總元資料容量應至少與現有StorageGRID站點相匹配，且新站點資源應與現有StorageGRID站點的儲存節點相符。


查看link:../admin/managing-object-metadata-storage.html["元資料保留空間的描述"]。



== 新增儲存節點時如何重新分配元數據

當您在擴充功能中新增儲存節點時， StorageGRID會將現有物件元資料重新指派到每個站點的新節點，從而增加網格的整體元資料容量。無需用戶操作。

下圖顯示了在擴充功能中新增儲存節點時StorageGRID如何重新分配物件元資料。圖的左側表示擴充前的三個儲存節點的磁碟區 0。元資料正在消耗每個節點可用元資料空間的相對較大的一部分，並且已觸發*低元資料儲存*警報。

圖的右側顯示了在站點中新增兩個儲存節點後，現有元資料如何重新分佈。每個節點上的元資料量減少了，不再觸發*低元資料儲存*警報，可用於元資料的空間增加了。

image::../media/metadata_space_after_expansion.png[新增兩個儲存節點後重新分配元資料的示意圖]
