---
permalink: ilm/manage-erasure-coding-profiles.html 
sidebar: sidebar 
keywords: rename erasure-coding profile, ec profile 
summary: 您可以查看擦除編碼設定檔的詳細信息，並根據需要重新命名設定檔。如果任何 ILM 規則目前未使用某個擦除編碼設定文件，則可以停用該設定檔。 
---
= 管理擦除編碼配置文件
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以查看擦除編碼設定檔的詳細信息，並根據需要重新命名設定檔。如果任何 ILM 規則目前未使用某個擦除編碼設定文件，則可以停用該設定檔。

.開始之前
* 您已使用link:../admin/web-browser-requirements.html["支援的網頁瀏覽器"]。
* 你有link:../admin/admin-group-permissions.html["所需的存取權限"]。




== 查看擦除編碼配置文件詳細信息

您可以查看擦除編碼設定檔的詳細信息，以確定其狀態、使用的擦除編碼方案和其他資訊。

.步驟
. 選擇 *配置* > *系統* > *擦除編碼*。
. 選擇設定檔。出現個人資料的詳細資訊頁面。
. 或者，查看 ILM 規則標籤以取得使用該設定檔的 ILM 規則清單以及使用這些規則的 ILM 策略。
. 或者，請查看「儲存節點」標籤以取得有關設定檔儲存池中每個儲存節點的詳細信息，例如其所在的網站和儲存使用情況。




== 重命名擦除編碼設定檔

您可能想要重命名擦除編碼設定文件，以使設定檔的功能更加明顯。

.步驟
. 選擇 *配置* > *系統* > *擦除編碼*。
. 選擇您想要重新命名的設定檔。
. 選擇*重新命名*。
. 為擦除編碼設定檔輸入一個唯一的名稱。
+
擦除編碼設定檔名稱附加到 ILM 規則的放置指令中的儲存池名稱。

+

NOTE: 擦除編碼設定檔名稱必須是唯一的。如果使用現有設定檔的名稱，即使該設定檔已停用，也會出現驗證錯誤。

. 選擇*儲存*。




== 停用擦除編碼配置文件

如果您不再打算使用某個擦除編碼設定文件，且該設定檔目前未在任何 ILM 規則中使用，則可以停用該設定檔。


TIP: 確認沒有正在進行的擦除編碼資料修復操作或退役程序。如果您在進行這些操作時嘗試停用擦除編碼配置文件，則會傳回錯誤訊息。

.關於此任務
若下列任一情況成立， StorageGRID將阻止您停用擦除編碼設定檔：

* 擦除編碼設定檔目前用於 ILM 規則。
* 任何 ILM 規則都不再使用擦除編碼配置文件，但該配置文件的物件資料和奇偶校驗片段仍然存在。


.步驟
. 選擇 *配置* > *系統* > *擦除編碼*。
. 在「活動」標籤上，查看「*狀態*」列以確認您要停用的擦除編碼設定檔未在任何 ILM 規則中使用。
+
如果任何 ILM 規則中使用了擦除編碼設定文件，則您無法停用該設定檔。在範例中，2+1 資料中心 1 設定檔至少在一條 ILM 規則中使用。

+
image::../media/ec_profile_used_in_ilm_rule.png[ILM 規則中使用的 EC 配置文件]

. 如果設定檔用於 ILM 規則，請依照下列步驟操作：
+
.. 選擇 *ILM* > *規則*。
.. 選擇每個規​​則並查看保留圖以確定該規則是否使用您想要停用的擦除編碼設定檔。
.. 如果 ILM 規則使用您想要停用的擦除編碼設定文件，請確定該規則是否在任何 ILM 策略中使用。
.. 根據使用擦除編碼設定檔的位置，完成表中的其他步驟。
+
[cols="2a,4a,1a"]
|===
| 該設定檔在何處使用？ | 停用設定檔之前要執行的附加步驟 | 請參閱這些附加說明 


 a| 
從未在任何 ILM 規則中使用過
 a| 
無需額外步驟。繼續此過程。
 a| 
_沒有任何_



 a| 
在任何 ILM 策略中從未使用過的 ILM 規則
 a| 
... 編輯或刪除所有受影響的 ILM 規則。如果您編輯規則，請刪除所有使用擦除編碼設定檔的展示位置。
... 繼續此過程。

 a| 
link:working-with-ilm-rules-and-ilm-policies.html["使用 ILM 規則和 ILM 策略"]



 a| 
在目前處於活動 ILM 策略中的 ILM 規則中
 a| 
... 克隆策略。
... 刪除使用擦除編碼設定檔的 ILM 規則。
... 新增一個或多個新的 ILM 規則以確保物件受到保護。
... 儲存、模擬並啟動新策略。
... 等待新策略應用並等待現有物件根據您新增的規則移動到新位置。
+
*注意：*根據物件的數量和StorageGRID系統的大小，根據新的 ILM 規則，ILM 操作可能需要數週甚至數月才能將物件移動到新位置。

+
雖然您可以在擦除編碼設定檔仍與資料關聯時安全地嘗試停用它，但停用操作將會失敗。如果設定檔尚未準備好停用，則會顯示錯誤訊息通知您。

... 編輯或刪除從策略中刪除的規則。如果您編輯規則，請刪除所有使用擦除編碼設定檔的展示位置。
... 繼續此過程。

 a| 
link:creating-ilm-policy.html["建立 ILM 策略"]

link:working-with-ilm-rules-and-ilm-policies.html["使用 ILM 規則和 ILM 策略"]



 a| 
在目前 ILM 策略中的 ILM 規則中
 a| 
... 編輯策略。
... 刪除使用擦除編碼設定檔的 ILM 規則。
... 新增一個或多個新的 ILM 規則以確保所有物件都受到保護。
... 保存策略。
... 編輯或刪除從策略中刪除的規則。如果您編輯規則，請刪除所有使用擦除編碼設定檔的展示位置。
... 繼續此過程。

 a| 
link:creating-ilm-policy.html["建立 ILM 策略"]

link:working-with-ilm-rules-and-ilm-policies.html["使用 ILM 規則和 ILM 策略"]

|===
.. 重新整理「擦除編碼設定檔」頁面以確保該設定檔未在 ILM 規則中使用。


. 如果設定檔未在 ILM 規則中使用，請選擇單選按鈕並選擇 *停用*。出現「停用擦除編碼設定檔」對話框。
+

TIP: 您可以選擇同時停用多個設定文件，只要每個設定檔未在任何規則中使用。

. 如果您確定要停用該設定文件，請選擇*停用*。


.結果
* 如果StorageGRID能夠停用擦除編碼設定文件，則其狀態為「已停用」。您無法再為任何 ILM 規則選擇此設定檔。您無法重新啟用已停用的個人資料。
* 如果StorageGRID無法停用該設定文件，則會出現錯誤訊息。例如，如果物件資料仍然與此設定檔關聯，則會出現錯誤訊息。您可能需要等待數週才能再次嘗試停用程序。

