---
permalink: ilm/data-protection-options-for-ingest.html 
sidebar: sidebar 
keywords: ingest options, balanced ingest, strict ingest, dual-commit ingest 
summary: 在建立 ILM 規則時，您可以指定三個用於在攝取時保護物件的選項之一：雙重提交、嚴格或平衡。 
---
= 收錄選項
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
在建立 ILM 規則時，您可以指定三個用於在攝取時保護物件的選項之一：雙重提交、嚴格或平衡。

根據您的選擇， StorageGRID會製作臨時副本並將物件排隊以供稍後進行 ILM 評估，或使用同步放置並立即製作副本以滿足 ILM 要求。



== 提取選項流程圖

此流程圖顯示了當物件透過使用三個攝取選項的 ILM 規則配對時發生的情況。

image::../media/ingest_object_lifecycle.png[圖表顯示了每個攝取選項的物件攝取方式]



== 雙重提交

當您選擇雙重提交選項時， StorageGRID會立即在兩個不同的儲存節點上製作臨時物件副本，並向用戶端傳回「攝取成功」訊息。該物件將排隊等待 ILM 評估，稍後將製作符合規則放置說明的副本。如果雙重提交後無法立即處理 ILM 策略，則站點遺失保護可能需要一些時間才能實現。

在以下任一情況下，請使用雙重提交選項：

* 您正在使用多站點 ILM 規則，且用戶端攝取延遲是您的主要考慮因素。使用雙重提交時，您必須確保網格可以執行建立和刪除雙重提交副本（如果它們不滿足 ILM）的額外工作。具體來說：
+
** 電網負載必須足夠低，以防止 ILM 積壓。
** 網格必須具有多餘的硬體資源（IOPS、CPU、記憶體、網路頻寬等）。


* 您正在使用多站點 ILM 規則，且站點之間的 WAN 連線通常具有高延遲或有限的頻寬。在這種情況下，使用雙重提交選項可以幫助防止客戶端逾時。在選擇雙重提交選項之前，您應該使用實際工作負載測試客戶端應用程式。




== 平衡（預設）

當您選擇「平衡」選項時， StorageGRID也會在攝取時使用同步放置，並立即製作規則放置說明中指定的所有副本。與嚴格選項相反，如果StorageGRID不能立即製作所有副本，它會使用雙重提交。如果 ILM 策略使用多個站點上的放置，且無法實現立即的站點遺失保護，則會觸發 *ILM 放置無法實現* 警報。

使用平衡選項來實現資料保護、網格效能和攝取成功的最佳組合。平衡是建立 ILM 規則精靈中的預設選項。



== 嚴格的

當您選擇「嚴格」選項時， StorageGRID會在攝取時使用同步放置，並立即製作規則放置說明中指定的所有物件副本。如果StorageGRID無法建立所有副本（例如，由於所需的儲存位置暫時無法使用），則攝取會失敗。客戶端必須重試該操作。

如果您有操作或監管要求，需要立即將物件僅儲存在 ILM 規則中概述的位置，請使用「嚴格」選項。例如，為了滿足監管要求，您可能需要使用嚴格選項和位置約束進階篩選器來確保物件永遠不會儲存在某些資料中心。

看link:example-5-ilm-rules-and-policy-for-strict-ingest-behavior.html["範例 5：針對嚴格攝取行為的 ILM 規則和策略"] 。
